<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: scrollgame.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: scrollgame.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @function eventScrollGame
 * Mini-game portion of the game. Players click animals
 * that belong to the biome and avoid ones that don't.
 */
function eventScrollGame() {
	"use strict";
	var timestamp = new Date();
    /** standard canvas variable */
    var canvas;
    /** background image*/
    var bg, bgrnd;
    /** keeps track of correctly and incorrectly clicked objects */
    var correct = 0;
	var incorrect = 0;
	
    /** stores ship bitmaps */
    var bmpList = [];
    var bitmap;
    /** text display */
    var txt;
    // is the game currently in play?
    var play;
    /** game over text */
    var gameTxt;
    /** the mouse's current target */
    var mouseTarget;
    // is the mouse being clicked?
    var clicked;
    /** initializes the ship game */
	
	var difficulty = 1;
	/** difficulty of the minigame - 1 is easy, 3 is normal, 5 is hard 
		defaults to easy so that first objects generated are slower to ease player into the game*/
	
	/** big container for elements of scroll game */
	var big_contain = new createjs.Container();
	
	
	var check = new createjs.Bitmap("./Pictures/icons/checkmark.png");
	check.shadow = new createjs.Shadow("#000000", 5, 5, 10);
	check.scaleX = check.scaleY = 0.9;
	var not_check = new createjs.Bitmap("./Pictures/icons/no.png");
	not_check.shadow = new createjs.Shadow("#000000", 5, 5, 10);
	not_check.scaleX = not_check.scaleY = 0.9;
	
	canvas = document.getElementById("main");
	
	/** pre game info screen */
	var start_contain = new createjs.Container();
	
	/** container for animals */
	var anim_contain = new createjs.Container();
	
	/** get index for biome from the game class */
	var bioindex = game.currentBiome.num - 1;
	
	/** picks a "bad" index that isn't the same as current biome */
	var bad_bio;
	if (bioindex > 0){
		bad_bio = bioindex - 1;
	}
	else{
		bad_bio = bioindex + 1;
	}	
	
	/** get background image */
	bg = new Image();
	switch(bioindex){
		case 0:
			bg.src = "./Pictures/Background/deciduous.jpg";
			break;
		case 1:
			bg.src = "./Pictures/Background/desert.jpg";
			break;
		case 2:
			bg.src = "./Pictures/Background/grassland.jpg";
			break;
		case 3:
			bg.src = "./Pictures/Background/rainforest.jpg";
			break;
		case 4:
			bg.src = "./Pictures/Background/tundra.jpg";
			break;
	}
    bg.onload = setBG;
	
	/**
	 *  @function HandleBadClicked
	 *  Handler function for whenever an image
	 *  is clicked that does not belong to the 
	 *  biome. Moves image clicked back to right
	 *  of screen, increments incorrect count, 
	 *  and accelerates image movement.
	 *  @param e
	 */
	function HandleBadClicked(e) {
		e = e || window.event; // get window.event if e argument missing (in IE)
		resetAnimal(e.currentTarget);
		speed_up += 0.05 + difficulty*difficulty*0.02;
		e.currentTarget.speed += speed_up;
		if (difficulty == 1){
			if (big_contain.contains(check)){
				big_contain.removeChild(check);
			}
			big_contain.addChild(not_check);
			game.getStage().update();
		}
		incorrect++;
	}
	
	/**
	 *  @function HandleGoodClicked
	 *  Handler function for whenever an image
	 *  is clicked that does not belong to the 
	 *  biome. Moves image clicked back to right
	 *  of screen, increments correct count, and 
	 *  accelerates image movement.
	 *  @param e
	 */
	function HandleGoodClicked(e) {
		e = e || window.event; // get window.event if e argument missing (in IE)
		resetAnimal(e.currentTarget);
		speed_up += 0.05 + difficulty*difficulty*0.02;
		e.currentTarget.speed += speed_up;
		if (difficulty == 1){
			if (big_contain.contains(not_check)){
				big_contain.removeChild(not_check);
			}
			big_contain.addChild(check);
			game.getStage().update();
		}
		correct++;
	}
	
	/** "good" animal is retreived from the assets array */
	var good1 = new createjs.Bitmap(game.assets[bioindex][0].result);
	good1.shadow = new createjs.Shadow("#000000", 3, 3, 5);
	good1.name = "good1";
	/** scales the image to be roughly the same size as the others */
	/** height or width (whichever is bigger) is used to scale dimensions */
	var good1bounds = good1.getBounds();
	var maxgood1 = Math.max(good1bounds.height, good1bounds.width);
	good1.scaleX = good1.scaleBackX = 140/maxgood1;
	good1.scaleY = good1.scaleBackY = 140/maxgood1;
	good1.addEventListener("click", HandleGoodClicked);
    
	/** "bad" animal retrieved */
    var bad1 = new createjs.Bitmap(game.assets[bad_bio][0].result);
	bad1.shadow = new createjs.Shadow("#000000", 3, 3, 5);
	bad1.name = "bad1";
	var bad1bounds = bad1.getBounds();
	var maxbad1 = Math.max(bad1bounds.height, bad1bounds.width);
	bad1.scaleX = bad1.scaleBackX = 140/maxbad1;
	bad1.scaleY = bad1.scaleBackY = 140/maxbad1;
	bad1.addEventListener("click", HandleBadClicked);
	
	var good2 = new createjs.Bitmap(game.assets[bioindex][1].result);
	good2.shadow = new createjs.Shadow("#000000", 3, 3, 5);
	var good2bounds = good2.getBounds();
	var maxgood2 = Math.max(good2bounds.height, good2bounds.width);
	good2.scaleX = good2.scaleBackX = 140/maxgood2;
	good2.scaleY = good2.scaleBackY = 140/maxgood2;
	good2.name = "good2";
	good2.addEventListener("click", HandleGoodClicked);
	
	var bad2 = new createjs.Bitmap(game.assets[bad_bio][1].result);
	bad2.shadow = new createjs.Shadow("#000000", 3, 3, 5);
	var bad2bounds = bad2.getBounds();
	var maxbad2 = Math.max(bad2bounds.height, bad2bounds.width);
	bad2.scaleX = bad2.scaleBackX = 140/maxbad2;
	bad2.scaleY = bad2.scaleBackY = 140/maxbad2;
	bad2.name = "bad2";
	bad2.addEventListener("click", HandleBadClicked);
   
	/**
	 * @function setBG
	 * Sets the background for the mini-game.
	 * Also creates a selection screen for difficulty as well as some brief info about the rules
	 * of the game
	 * @param event
	 */
	function setBG(event){
		bgrnd = new createjs.Bitmap(bg);
		game.getStage().addChild(bgrnd, big_contain);
		
		var instruct_text = new createjs.Text("Click on the Animals that belong in the biome!\n"+
											  "The animals will speed up over time\n", "32px Arial", "black");
			instruct_text.x = game.getStage().width/2;
			instruct_text.y = 60;
			instruct_text.textAlign = "center";
		var instruct_textInner = instruct_text.clone();
			instruct_textInner.color = "white";
			instruct_textInner.shadow = undefined;
			instruct_textInner.outline = false;
			instruct_text.shadow = new createjs.Shadow("#000", -3, -3, 25);
			instruct_text.outline = 3;
		
		var start_text = new createjs.Text("Please select difficulty:\n", "32px Arial", "black");
			start_text.x = game.getStage().width/2;
			start_text.y = game.getStage().height/3 - 10;
			start_text.textAlign = "center";
		var start_textInner = start_text.clone();
			start_textInner.color = "white";
			start_textInner.shadow = undefined;
			start_textInner.outline = false;
			start_text.shadow = new createjs.Shadow("#000", -3, -3, 25);
			start_text.outline = 3;
		
		var start_box = new createjs.Shape();
		start_box.shadow = new createjs.Shadow("#000000", 5, 5, 10);
		start_box.graphics.beginFill("#000000").drawRect(canvas.width/2 - 205, canvas.height/3 - 15, 410, 170);
		var easy_button = new CircleButton("Easy", "24px Arial", 0, 0, "#00e676", game.getStage().width/2 - 140, game.getStage().height/3 + 80, 55, "#bdbdbd", "click", pick_easy);
		var med_button = new CircleButton("Medium", "24px Arial", 0, 0, "#ff9100", game.getStage().width/2, game.getStage().height/3 + 80, 55, "#bdbdbd", "click", pick_medium);
		var hard_button = new CircleButton("Hard", "24px Arial", 0, 0, "#00b0ff", game.getStage().width/2 + 140, game.getStage().height/3 + 80, 55, "#bdbdbd", "click", pick_hard);
        start_contain.addChild(start_box, start_text, start_textInner, instruct_text, instruct_textInner, easy_button.container, med_button.container, hard_button.container);
		big_contain.addChild(start_contain);
		game.getStage().update();
    }
	
	/**
	 *  @function pick_easy
	 *  Sets the minigame to the easiest settings
	 */
	function pick_easy () {
		difficulty = 1;
		createAnimals(good1);
		createAnimals(good2);
		createAnimals(bad1);
		createAnimals(bad2);
		play = true;
		check.x = 0;
		check.y = 0;
		not_check.x = check.x;
		not_check.y = check.y;
		big_contain.addChild(anim_contain);
		big_contain.removeChild(start_contain);
	}
	
	/**
	 *  @function pick_medium
	 *  Sets the minigame to the medium settings
	 */
	function pick_medium () {
		difficulty = 2;
		createAnimals(good1);
		createAnimals(good2);
		createAnimals(bad1);
		createAnimals(bad2);
		play = true;
		big_contain.addChild(anim_contain);
		big_contain.removeChild(start_contain);
	}
	
	/**
	 *  @function pick_hard
	 *  Sets the minigame to the hardest settings
	 */
	function pick_hard () {
		difficulty = 3;
		createAnimals(good1);
		createAnimals(good2);
		createAnimals(bad1);
		createAnimals(bad2);
		play = true;
		big_contain.addChild(anim_contain);
		big_contain.removeChild(start_contain);
	}
    
    /**
     * @function createAnimals
     * Creates animal objects and enables clicking on them.
     */
	
	createjs.Ticker.addEventListener("tick", tick);
	createjs.Ticker.setFPS(30);
	
	/**
	 *  @function createAnimals
	 *  Generates two animals using the bitmap given 
	 *  @param bitmp
	 */
	function createAnimals(bitmp){
		var l = 2;
		for (var i=0; i&lt;l; i++){
			bitmap = bitmp;
			anim_contain.addChild(bitmap);
			resetAnimal(bitmap);
			bitmap.regX = bitmap.image.width/2|0;
			bitmap.regY = bitmap.image.height/2|0;
			bitmap.mouseEnabled = true;
			bmpList.push(bitmap);
		}
	}
	
	/** gradually speeds up animals */
	var speed_up = 0.0;
	
	/**
	 * @function resetAnimal
	 * Places animals randomly into the mini-game to be clicked/not clicked.
	 * @param animal
	 */
    function resetAnimal(animal){
        animal.x = canvas.width + Math.random()*500;
        animal.y = canvas.height * Math.random()|0;
		// speed calculated based on difficulty setting - default is decently slow for younger kids (easy to tweak)
        animal.speed = Math.random()*0.8 + difficulty;
    }
    
    /**
     * @function tick
     * Ticker function for animation.
	 * speed up increases by difficulty^2 times 0.02 plus 0.05 on every object clicked
	 * whenever an animal is reset, it's speed is increased by speed_up
     */
    function tick(){
        /** moving the animals */
        if (play === true){
            var l=bmpList.length;
            for(var i=0; i&lt;l; i++){
                var bmp = bmpList[i];
                if (bmp.x > -200){
                    bmp.x -= bmp.speed;
                }else{
                    if (bmp.name == "good1" || bmp.name == "good2"){
                        gameOver();
                        console.log("game over");
                    }
                    else{
                        resetAnimal(bmp);
						bmp.speed += speed_up;
                    }
                }
            }
        }
        game.getStage().update();
    }
    /**
     * @function gameOver
     * Ends game and displays "Game Over" text.
     */
    function gameOver(){
        big_contain.removeAllChildren();
		var scoreBox = new createjs.Shape();
		scoreBox.graphics.beginFill("#212121").drawRect(canvas.width/2 - 275, canvas.height/3 - 30, 550, 210);
		scoreBox.shadow = new createjs.Shadow("#000000", 5, 5, 10);
		big_contain.addChild(scoreBox);
        gameTxt = new createjs.Text("Game Over\n", "36px Arial", "white");
		gameTxt.text += "You clicked: " + correct + " correct animals";
		gameTxt.text += "\nAnd " + incorrect + " incorrect animals";
        gameTxt.text += "\nClick to Try Another Biome\n";
        gameTxt.textAlign = "center";
        gameTxt.x = canvas.width/2;
        gameTxt.y = canvas.height/3;
        big_contain.addChild(gameTxt);
        play=false;
        var l=bmpList.length;
        for(var i=0; i&lt;l; i++){
            var bmp = bmpList[i];
            resetAnimal(bmp);
        }

		var infoText = new createjs.Text();
		var infoTextInner;
	
		/**
		 * @function setImg
		 *  Used to set images on post-game info
		 *  screen.
		 * @param img
		 * @param imgX
		 * @param imgY
		 */
		function setImg (img, imgX, imgY) {
			var bounds = img.getBounds();
			var maxBound = Math.max(bounds.height, bounds.width);
			img.scaleX = img.scaleBackX = 140/maxBound;
			img.scaleY = img.scaleBackY = 140/maxBound;
			img.x = imgX;
			img.y = imgY;
		}
		
		/**
		 *  @function setHoverEffects
		 *  Used to set the hover effects of images
		 *  on the post-game info screen.
		 *  @param img
		 *  @param index
		 *  @param i
		 */
		function setHoverEffects(img, index, i) {
			img.on("rollover", function (event) {
				this.scaleX = this.scaleBackX * 1.1;
				this.scaleY = this.scaleBackY * 1.1;
				infoText.text = game.imageText[index][i][0];
				infoText.font = "28px Arial";
				infoText.color = "black";
				infoText.x = 250;
				infoText.y = 10;
				infoTextInner = infoText.clone();
				infoTextInner.color = "white";
				infoTextInner.shadow = undefined;
				infoTextInner.outline = false;
				infoText.shadow = new createjs.Shadow("#000", -3, -3, 25);
				infoText.outline = 3;
				big_contain.addChild(infoText, infoTextInner);
				game.getStage().update();
			});
			
			img.on("rollout", function (event) {
				this.scaleX = this.scaleBackX;
				this.scaleY = this.scaleBackY;
				big_contain.removeChild(infoText, infoTextInner);
				game.getStage().update();
			});
		}
		
		/**
		 *  @function setBiomeInfo
		 *  Handles setting up all the post-game
		 *  info screen info.
		 */
		function setBiomeInfo() {
			for (var i=0; i&lt;2; i++) {
				var newImage = new createjs.Bitmap(game.assets[bioindex][i].result);
				big_contain.addChild(newImage);
				setImg(newImage, 45, 80 + 200 * i );
				setHoverEffects(newImage, bioindex, i);
			}
			for (var i=0; i&lt;2; i++) {
				var newImage = new createjs.Bitmap(game.assets[bad_bio][i].result);
				big_contain.addChild(newImage);
				setImg(newImage, 775, 80 + 200 * i );
				setHoverEffects(newImage, bad_bio, i);
			}

			game.getStage().update();
		}

		setBiomeInfo();
		
        big_contain.on("click", function(event) {
	    var additionalInfo = {};
	    additionalInfo["biome"] = game.currentBiome.name;
	    additionalInfo["correct"] = correct;
	    additionalInfo["incorrect"] = incorrect;
	    sendUserTimeInfo("scroll-game", timestamp, additionalInfo);
	    
            console.log("Clicked!");
            game.getStage().removeChild(big_contain);
            game.getStage().removeChild(bgrnd);
            game.progress();
        });
    }
    
    /**
     * @function handleClick
     * Handles a click after a game over
     */
    var handleClick = function(){
        canvas.onclick=null;
        big_contain.removeChild(gameTxt);
        score=0;
        
        play=true;
    };
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addofclassDoublyLinkedCycleSetsnewnodesandaddsthemtothecycle.Ifthecycleisempty,itsetsthenewnodetoheadandtail.Otherwise,itmakesthenewnodethetail,andconnectsthetailtotheheadbothdirections.">add of class DoublyLinkedCycle Sets new nodes and adds them to the cycle.  If the cycle is empty, it sets the new node to head and tail.  Otherwise, it makes the new node the tail, and connects the tail to the head both directions.</a></li><li><a href="global.html#addHexColorAddstwocolorhexvaluestogether.">addHexColor Adds two color hex values together.</a></li><li><a href="global.html#AddToScreenAddsimagestothescreenbasedontheirsettingsinthemanifest.">AddToScreen Adds images to the screen based on their settings in the manifest.</a></li><li><a href="global.html#backbuttonClickedHandlerforclickingthebackbutton.Takestheplayerbacktothestartmenu.">backbuttonClicked Handler for clicking the back button. Takes the player back to the start menu.</a></li><li><a href="global.html#browseClickedHandleswhentheuserdecidestobrowsefilestochooseamanifestfile.">browseClicked Handles when the user decides to browse files to choose a manifest file.</a></li><li><a href="global.html#CBMAddClickedHandlerfunctionforclickingtheaddbuttononthecheckboxmenu.Addsallcheckedimagestothestageunlesstheyarealreadyinthestage.">CBMAddClicked Handler function for clicking the add  button on the checkbox menu. Adds all  checked images to the stage unless they  are already in the stage.</a></li><li><a href="global.html#CBMAppendAppendsanoptiontotheendoftheCheckboxMenuList.">CBMAppend Appends an option to the end of the  Checkbox Menu List.</a></li><li><a href="global.html#CBMDeleteClickedHandlerfunctionforclickingthedeletebuttononthecheckboxmenu.Askstheusertoconfirmwhetherornottheywishtopermanentlydeletetheimagesfromthemanifest.Ifconfirmed,removesallcheckedimagesfromtheImagesOnScreen/ImagesNotOnScreenarraysaswellasthecheckboxmenu.">CBMDeleteClicked Handler function for clicking the delete button on the checkbox menu. Asks the user to  confirm whether or not they wish to permanently  delete the images from the manifest. If confirmed,  removes all checked images from the ImagesOnScreen/ ImagesNotOnScreen arrays as well as the checkbox menu.</a></li><li><a href="global.html#CBMHandleMouseUpDeactivatesmovabilityfortheImageCheckboxMenuwheneverthemouseisreleased.">CBMHandleMouseUp Deactivates movability for the Image Checkbox Menu whenever the mouse is released.</a></li><li><a href="global.html#CBMHandleMoveMovesallofthepiecesoftheImageCheckboxMenuwheneveritisdraggedanddropped.">CBMHandleMove Moves all of the pieces of the Image Checkbox Menu whenever it is dragged and dropped.</a></li><li><a href="global.html#CBMResetSets/resetsthelocationoftheImageCheckboxMenu.">CBMReset Sets/resets the location of the Image Checkbox Menu.</a></li><li><a href="global.html#CircleButtonCircularbuttonclass.">CircleButton Circular button class.</a></li><li><a href="global.html#createAnimalsGeneratestwoanimalsusingthebitmapgiven">createAnimals Generates two animals using the bitmap given</a></li><li><a href="global.html#createAnimalsCreatesanimalobjectsandenablesclickingonthem.">createAnimalsCreates animal objects and enables clicking on them.</a></li><li><a href="global.html#defaultClickedHandleswhentheuseroptstoloadthedefaultmanifest.">defaultClicked Handles when the user opts to load the default manifest.</a></li><li><a href="global.html#disableScrollDisablesscrolling.">disableScroll Disables scrolling.</a></li><li><a href="global.html#done_clickedHandlesthedonebuttonbeingclickedbyreturningtothestartmenu.">done_clicked Handles the done button being clicked by returning to the start menu.</a></li><li><a href="global.html#DoublyLinkedCycleDoublyLinkedCycleclass,storinglength,head,andtail">DoublyLinkedCycle DoublyLinkedCycle class, storing length, head, and tail</a></li><li><a href="global.html#edit_clickedHandlestheeditbuttonbeingclickedbygoingtotheeditingstage.">edit_clicked Handles the edit button being clicked by going to the editing stage.</a></li><li><a href="global.html#editGameClickedHandlerforclickingthehowtoeditthegamebutton.Explainshowtoedit.">editGameClicked Handler for clicking the how to edit the game button. Explains how to edit.</a></li><li><a href="global.html#EnableCBMSetstheImageCheckboxMenutobevisible.">EnableCBM Sets the Image Checkbox Menu to be visible.</a></li><li><a href="global.html#enableScrollEnablesscrollingwhendisabled.">enableScroll Enables scrolling when disabled.</a></li><li><a href="global.html#eventEditGameSectiontoadd/removeimagesfromthegameand/ormanifest.Alsoallowstheusertoedittheimagesinthegame.">eventEditGame Section to add/remove images from the game and/or manifest. Also allows the user to edit the images in the game.</a></li><li><a href="global.html#eventHelpPageBlackPopUpBoxthatexplainshowtoloadandplaythegameExplainsgamemechanicsforminigamesaswell">eventHelpPage Black Pop Up Box that explains how to load and play the game Explains game mechanics for minigames as well</a></li><li><a href="global.html#eventInfoScreenInfoScreenportionofthegame.Displaysobjectsthatbelonginthebiome.Scrolloverobjectsforinformation.">eventInfoScreenInfo Screen portion of the game. Displays objects that belong in the biome.Scroll over objects for information.</a></li><li><a href="global.html#eventLoadMapUtilizesthemanifesttopreloadassetsinto">eventLoadMapUtilizes the manifest to preload assets into</a></li><li><a href="global.html#eventMoveAroundEarthAllowsplayertopickabiometovisit.">eventMoveAroundEarthAllows player to pick a biome to visit.</a></li><li><a href="global.html#eventOptionsMenuHandlestheoptionsmenupage">eventOptionsMenu Handles the options menu page</a></li><li><a href="global.html#eventPreloadAssetsUtilizesthemanifesttopreloadassetsinto">eventPreloadAssetsUtilizes the manifest to preload assets into</a></li><li><a href="global.html#eventScrollGameMini-gameportionofthegame.Playersclickanimalsthatbelongtothebiomeandavoidonesthatdon't.">eventScrollGameMini-game portion of the game. Players click animalsthat belong to the biome and avoid ones that don't.</a></li><li><a href="global.html#eventSelectManifestAllowstheusertoselectwhichmanifesttheywouldliketouseoreditandthencallsonthepreloadingtoloadthatmanifest">eventSelectManifest Allows the user to select which manifest they would like to use or edit and then calls on the preloading to load  that manifest</a></li><li><a href="global.html#eventStartMenuOpensupthestartmenu,thebeginningpointofthegame.">eventStartMenuOpens up the start menu, the beginning point of the game.</a></li><li><a href="global.html#finishPrivatefunctioncalledbyGame.progress()whentheendofthegameisreachedDoanythingtofinishthegamesuchasannouncethewinner,releaseresources,askifthey'dliketoplayagain,changegraphics,etc...">finishPrivate function called by Game.progress() when the end of the game is reachedDo anything to finish the game such as announce the winner, releaseresources, ask if they'd like to play again, change graphics, etc...</a></li><li><a href="global.html#GameThisisacontainerforasingle-player,linearstorybasedgame.Agameisseenasaseriesof%2522GameEvents,%2522representedbytheGameEventobject.EachGameEventhastwofunctionpointers,moveFuncandactionFunc.ThefirstismeanttohandlethetransitionbetweenthelastGameEventandthecurrentone.Thesecondismeanttosetupwhatactuallyhappensatthispointinthegame.ThisincludesrenderingshapesandsettingupEventListenersforuserinteraction.Meaning,whatactuallymakesthegameuniqueistheseriesofGameEventsandthecodetheirfunctionpointerspointto.TocreatecustomGameEventobjectsandaddthemtothesequenceofevents,createapriviledgedmemberclass(reallyafunctionobj)toGame.loadStory.Thisobjectshouldcontainconstructorcode,whichwillbetriggeredwhenitisthecurrentGameEvent;eventListenersforuserinteractionandgameprogression,andanyotherdatamembersneededtodowhatyouwantatthatpointinthegame.AlleventListenersshouldbepublicfunctionssuchthatCreateJScanlaunchthem.Now,toassignoneormoreGameEvent'sfunctionpointerstopointtothisnewfunctionobject,simplymaketheassignmentinthebodyofGame.loadStory().Asimpleexampleisprovided.EachGameEventwillhavetotriggerGame.progress()atsomepoint(mostlikelyalistenerfunction)toconcludethecurrentGameEventandtriggerthenextone.ThiswillcontinueuntiltherearenomoreGameEventobjects.PopulateGame.start()andGame.finish()withcodetohandlethebeginningandendingofthegame.">GameThis is a container for a single-player, linear story based game.A game is seen as a series of "Game Events," represented by the GameEvent object.Each GameEvent has two function pointers, moveFunc and actionFunc. The first ismeant to handle the transition between the last GameEvent and the current one.The second is meant to setup what actually happens at this point in the game.This includes rendering shapes and setting up EventListeners for user interaction.Meaning, what actually makes the game unique is the series of GameEvents and the codetheir function pointers point to.To create custom GameEvent objects and add them to the sequence of events, createa priviledged member class (really a function obj) to Game.loadStory. This object shouldcontain constructor code, which will be triggered when it is the current GameEvent;eventListeners for user interaction and game progression, and any other data members needed  to dowhat you want at that point in the game. All eventListeners should be public functions such thatCreateJS can launch them.Now, to assign one or more GameEvent's function pointers to point to this new function object,simply make the assignment in the body of Game.loadStory(). A simple example is provided.Each GameEvent will have to trigger Game.progress() at some point (most likely a listener function)to conclude the current GameEvent and trigger the next one. This will continue until there are nomore GameEvent objects. Populate Game.start() and Game.finish() with code to handlethe beginning and ending of the game.</a></li><li><a href="global.html#GAME_WIDTH">GAME_WIDTH</a></li><li><a href="global.html#GameEventAnabstractrepresentationofaneventwithinagame.Thiscouldbeaspotontheboard,aseguetoanotherpartofagame,ananimation,mini-game,etc...">GameEventAn abstract representation of an event within a game. This could be a spot on theboard, a segue to another part of a game, an animation, mini-game, etc...</a></li><li><a href="global.html#gameOverEndsgameanddisplays%2522GameOver%2522text.">gameOverEnds game and displays "Game Over" text.</a></li><li><a href="global.html#GetAssetIndexByIDFindstheindexofanassetbyidinthegame.assetsarray.">GetAssetIndexByID Finds the index of an asset by id in the game.assets array.</a></li><li><a href="global.html#GetManifestBiomeSectionSplicesthesectionofmanifestforthecurrentlyselectedbiome.">GetManifestBiomeSection Splices the section of manifest for the currently selected biome.</a></li><li><a href="global.html#getUploadedManifestRetrievesthefilefromtheuploadstack.">getUploadedManifest Retrieves the file from the upload stack.</a></li><li><a href="global.html#Handle_D_PressedHandlesDPressduringeditingstage.Ifanimagehasbeenclickedthatcanbemodified,itremovestheimagefromtheeditingstage.Ifnot,italertstheuserthatnoimagehasbeenclicked.">Handle_D_Pressed Handles D Press during editing stage. If an image has been clicked that can be modified,  it removes the image from the editing stage. If  not, it alerts the user that no image has been clicked.</a></li><li><a href="global.html#Handle_H_PressedHandlesHPressduringeditingstage.Togglesahelpdialogforwhicheverstatetheeditstageisin.">Handle_H_Pressed Handles H Press during editing stage. Toggles a help dialog for whichever state the edit stage is in.</a></li><li><a href="global.html#Handle_I_PressedHandlesIPressduringeditingstage.PullsuptheImageCheckboxMenu,whichallowstheusertoremoveimagesfromthemanifestand/oraddimagestotheeditingstagethatareavailableinthemanifest.ImageCheckboxMenuisascrollable/movabledialogbox.">Handle_I_Pressed Handles I Press during editing stage. Pulls up the Image Checkbox Menu, which allows the user to remove images from the manifest and/ or add images to the editing stage that are available in the manifest. Image Checkbox Menu is a scrollable/movable dialog box.</a></li><li><a href="global.html#Handle_M_PressedHandlesMPressduringeditingstage.Ifanimagehasbeenclickedthatcanbemodified,itallowstheusertomovethatimage.Ifnot,italertstheuserthatnoimagehasbeenclicked.">Handle_M_Pressed Handles M Press during editing stage. If an image has been clicked that can be modified,  it allows the user to move that image. If  not, it alerts the user that no image has been clicked.</a></li><li><a href="global.html#Handle_S_PressedHandlesSPressduringeditingstage.Ifanimagehasbeenclickedthatcanbemodified,itallowstheusertoscalethatimage.Ifnot,italertstheuserthatnoimagehasbeenclicked.">Handle_S_Pressed Handles S Press during editing stage. If an image has been clicked that can be modified,  it allows the user to scale that image. If  not, it alerts the user that no image has been clicked.</a></li><li><a href="global.html#Handle_T_PressedHandlesTPressduringeditingstage.Ifanimagehasbeenclickedthatcanbemodified,itallowstheusertoadd/modifyimagetext.Ifnot,italertstheuserthatnoimagehasbeenclicked.">Handle_T_Pressed Handles T Press during editing stage. If an image has been clicked that can be modified,  it allows the user to add/modify image text.  If not, it alerts the user that no image has been clicked.</a></li><li><a href="global.html#HandleBadClickedHandlerfunctionforwheneveranimageisclickedthatdoesnotbelongtothebiome.Movesimageclickedbacktorightofscreen,incrementsincorrectcount,andacceleratesimagemovement.">HandleBadClicked Handler function for whenever an image is clicked that does not belong to the  biome. Moves image clicked back to right of screen, increments incorrect count,  and accelerates image movement.</a></li><li><a href="global.html#handleClickHandlerfunctionforclickingtheavataronthemap.Movestheavatartothenextbiome.">handleClick Handler function for clicking the avatar on the map. Moves the avatar to the next biome.</a></li><li><a href="global.html#handleClickHandlesaclickafteragameover">handleClickHandles a click after a game over</a></li><li><a href="global.html#handleCompleteCallsgame.progress()onceloadingiscomplete.">handleCompleteCalls game.progress() once loading is complete.</a></li><li><a href="global.html#handleErrorLogsanerroriftheloadingfails.">handleErrorLogs an error if the loading fails.</a></li><li><a href="global.html#handleFileErrorLogsanerrorifanindividualfileloadfails.">handleFileErrorLogs an error if an individual file load fails.</a></li><li><a href="global.html#handleFileLoadStoresassetinarrayonceloaded.">handleFileLoadStores asset in array once loaded.</a></li><li><a href="global.html#handleFileProgressDisplaysloadingprogressfortotalloading.">handleFileProgressDisplays loading progress for total loading.</a></li><li><a href="global.html#HandleGoodClickedHandlerfunctionforwheneveranimageisclickedthatdoesnotbelongtothebiome.Movesimageclickedbacktorightofscreen,incrementscorrectcount,andacceleratesimagemovement.">HandleGoodClicked Handler function for whenever an image is clicked that does not belong to the  biome. Moves image clicked back to right of screen, increments correct count, and  accelerates image movement.</a></li><li><a href="global.html#handleItemProgressDisplaysloadingprogressforfilesthattakelongertoload.">handleItemProgressDisplays loading progress for files that take longer to load.</a></li><li><a href="global.html#handleKeyDownHandlesallkeypressesduringeditingstageanddetermineshowkeypressesarehandled.">handleKeyDown Handles all key presses during editing stage and determines how key presses are handled.</a></li><li><a href="global.html#handleMapErrorHandlerfunctionforerrorsloadingthemapimage.">handleMapError Handler function for errors loading the map image.</a></li><li><a href="global.html#handleMapFileErrorHandlerfunctionforerrorsloadingthefileforthemapimage.">handleMapFileError Handler function for errors loading the file for the map image.</a></li><li><a href="global.html#handleMapLoadHandlerfunctionformapload.">handleMapLoad Handler function for map load.</a></li><li><a href="global.html#handleMapLoadedHandlerfunctionformaploaded.">handleMapLoaded Handler function for map loaded.</a></li><li><a href="global.html#HandleMouseDownHandlesmousedowneventforthecirclebuttonsbydarkeningthebuttonfill.">HandleMouseDown Handles mousedown event for the circle buttons by darkening the button fill.</a></li><li><a href="global.html#HandleMouseDownHandlesmousedowneventfortheOKbuttonbydarkeningthebuttonfill.">HandleMouseDown Handles mousedown event for the OK button by darkening the button fill.</a></li><li><a href="global.html#HandleMouseDownHandlesmousedowneventfortherectanglebuttonsbydarkeningthebuttonfill.">HandleMouseDown Handles mousedown event for the rectangle buttons by darkening the button fill.</a></li><li><a href="global.html#HandlePressUpHandlesmousedowneventforthecirclebuttonsbylighteningthebuttonfillandcallingthebuttonseventhandler.">HandlePressUp Handles mousedown event for the circle buttons by lightening the button fill and calling the buttons event handler.</a></li><li><a href="global.html#HandlePressUpHandlesmousedowneventfortheOKbuttonbylighteningthebuttonfillandcallingthebuttonseventhandler.">HandlePressUp Handles mousedown event for the OK button by lightening the button fill and calling the buttons event handler.</a></li><li><a href="global.html#HandlePressUpHandlesmousedowneventfortherectanglebuttonsbylighteningthebuttonfillandcallingthebuttonseventhandler.">HandlePressUp Handles mousedown event for the rectangle buttons by lightening the button fill and calling the buttons event handler.</a></li><li><a href="global.html#HandleRollOutHandlesrollouteventforthecirclebuttonsbyslightlydarkeningthebuttonfill.">HandleRollOut Handles rollout event for the circle buttons by slightly darkening the button  fill.</a></li><li><a href="global.html#HandleRollOutHandlesrollouteventfortheOKbuttonbyslightlydarkeningthebuttonfill.">HandleRollOut Handles rollout event for the OK button by slightly darkening the  button fill.</a></li><li><a href="global.html#HandleRollOutHandlesrollouteventfortherectanglebuttonsbyslightlydarkeningthebuttonfill.">HandleRollOut Handles rollout event for the rectangle buttons by slightly darkening the button  fill.</a></li><li><a href="global.html#HandleRollOverHandlesrollovereventforthecirclebuttonsbyslightlydarkeningthebuttonfill.">HandleRollOver Handles rollover event for the circle buttons by slightly darkening the button  fill.</a></li><li><a href="global.html#HandleRollOverHandlesrollovereventfortheOKbuttonbyslightlydarkeningthebuttonfill.">HandleRollOver Handles rollover event for the OK button by slightly darkening the  button fill.</a></li><li><a href="global.html#HandleRollOverHandlesrollovereventfortherectanglebuttonsbyslightlydarkeningthebuttonfill.">HandleRollOver Handles rollover event for the rectangle buttons by slightly darkening the button  fill.</a></li><li><a href="global.html#initInitializesthegameandhidestheDescriptiondiv.">init Initializes the game and hides the Description div.</a></li><li><a href="global.html#isNumberChecksifavalueisanumber">isNumber Checks if a value is a number</a></li><li><a href="global.html#makeOKButton">makeOKButton</a></li><li><a href="global.html#minusHexColorSubtractsonecolorhexvaluec2fromanotherc1.Notdesignedtohandlenegatives.">minusHexColor Subtracts one color hex value c2 from another c1. Not designed to handle negatives.</a></li><li><a href="global.html#NodeNodeclassfordoublylinkedcycle,storingthenextandpreviousnodesforthatnode.">Node Node class for doubly linked cycle, storing the next and previous nodes for that node.</a></li><li><a href="global.html#numPlayers">numPlayers</a></li><li><a href="global.html#onHelpHandleuserclicking%2522help%2522.Willprovidesomedetailsregardinghowtoefficientlyandeffectivelyusecertainportionsofthegame.">onHelpHandle user clicking "help". Will provide some details regarding how toefficiently and effectively use certain portions of the game.</a></li><li><a href="global.html#onInfoOKFunctionthathandleswhenOKisclickedontheInfoPage.RemovestheinfoPagecontainerandcallsgame.progress()">onInfoOKFunction that handles when OK is clicked on the Info Page.Removes the infoPage container and calls game.progress()</a></li><li><a href="global.html#onStartHandleuserclicking%2522start%2522.Oncethisisclickedthegamebeginsandcannotberestartedwithoutrefreshing.">onStartHandle user clicking "start". Once this is clicked the game beginsand cannot be restarted without refreshing.</a></li><li><a href="global.html#options_menuHandleuserclicking%2522options%2522.Leadstotheeditingportionofthegamewhereuserscanselectamanifesttoeditandthendownloadanewversionofthemanifest.">options_menuHandle user clicking "options". Leads to the editing portion of the gamewhere users can select a manifest to edit and then download a new versionof the manifest.</a></li><li><a href="global.html#parseManifestParsesmanifestandstoresvaluesintoarrayforpreloading.">parseManifest Parses manifest and stores values into array for preloading.</a></li><li><a href="global.html#pick_easySetstheminigametotheeasiestsettings">pick_easy Sets the minigame to the easiest settings</a></li><li><a href="global.html#pick_hardSetstheminigametothehardestsettings">pick_hard Sets the minigame to the hardest settings</a></li><li><a href="global.html#pick_mediumSetstheminigametothemediumsettings">pick_medium Sets the minigame to the medium settings</a></li><li><a href="global.html#PlayerRepresentsaplayerinthegame">PlayerRepresents a player in the game</a></li><li><a href="global.html#playgameClickedHandlerforclickingthehowtoplaythegamebutton.Explainshowtoplay.">playgameClicked Handler for clicking the how to play the game button. Explains how to play.</a></li><li><a href="global.html#prettifyTextRewritestextinputfrommanifesttobemultilined.">prettifyText Rewrites text input from manifest to be multilined.</a></li><li><a href="global.html#preventDefaultPreventsdefaultbehaviorforlisteners.">preventDefault Prevents default behavior for listeners.</a></li><li><a href="global.html#preventDefaultForScrollKeysDisablesanykeypressesthatwouldallowforscrolling.">preventDefaultForScrollKeys Disables any key presses that would allow for scrolling.</a></li><li><a href="global.html#processFileProcessestheinputastext">processFile Processes the input as text</a></li><li><a href="global.html#RectButtonRectangularbuttonclass.">RectButton Rectangular button class.</a></li><li><a href="global.html#ReformManifestPiecesmanifestbacktogetherwhen-everdoneeditingthecurrentlyselectedbiomesection.">ReformManifest Pieces manifest back together when- ever done editing the currently selected biome section.</a></li><li><a href="global.html#resetAnimalPlacesanimalsrandomlyintothemini-gametobeclicked/notclicked.">resetAnimalPlaces animals randomly into the mini-game to be clicked/not clicked.</a></li><li><a href="global.html#ResetHelpTextSets/ResetstheStandardHelpTextfortheeditingstage.">ResetHelpText Sets/Resets the Standard Help Text for the editing stage.</a></li><li><a href="global.html#setBGSetsthebackgroundforthemini-game.Alsocreatesaselectionscreenfordifficultyaswellassomebriefinfoabouttherulesofthegame">setBGSets the background for the mini-game.Also creates a selection screen for difficulty as well as some brief info about the rulesof the game</a></li><li><a href="global.html#setBiomeInfoHandlessettingupallthepost-gameinfoscreeninfo.">setBiomeInfo Handles setting up all the post-game info screen info.</a></li><li><a href="global.html#setBiomeInfoSetsalltheinfoforthebiomeontheinfoscreen.">setBiomeInfo Sets all the info for the biome on the info screen.</a></li><li><a href="global.html#SetBiomeInfoSetseverythingintheeditingstageforthechosenbiomeoncethetemperatureandprecipitationimageshavebeenloaded.">SetBiomeInfo Sets everything in the editing stage for  the chosen biome once the temperature and  precipitation images have been loaded.</a></li><li><a href="global.html#setHoverEffectsSetsthehoverovereffectsoftheimagesontheinfoscreen.">setHoverEffects Sets the hover over effects of the images on the info screen.</a></li><li><a href="global.html#setHoverEffectsUsedtosetthehovereffectsofimagesonthepost-gameinfoscreen.">setHoverEffects Used to set the hover effects of images on the post-game info screen.</a></li><li><a href="global.html#SetImgPlacestheimageonthescreenandscalesitbasedupontheargumentsprovided.">SetImg Places the image on the screen and scales it based upon the arguments provided.</a></li><li><a href="global.html#setImgSetstheimageonthescreenfortheinfoscreen.">setImg Sets the image on the screen for the info screen.</a></li><li><a href="global.html#setImgUsedtosetimagesonpost-gameinfoscreen.">setImg Used to set images on post-game info screen.</a></li><li><a href="global.html#SetInfoBGSetsthebackgroundfortheeditingstagebaseduponwhichbiomewaschosen.">SetInfoBG Sets the background for the editing stage based upon which biome was chosen.</a></li><li><a href="global.html#setInfoBGSetstheinfoscreenbackgroundforthegivenbiome.">setInfoBG Sets the info screen background for the given biome.</a></li><li><a href="global.html#SetSelectEffectsHandleswhathappenswhenanimageisselected.Displaysthetextforthegivenimageandsetsitasthecurrentlyselectedimagefortheeditingstage.">SetSelectEffects Handles what happens when an image is selected. Displays the text for the given image and sets it as the currently selected image for the editing stage.</a></li><li><a href="global.html#SimplifyTextHelperfunctionforreformmanifestthatgetsridofanypeskynewlines/tabs/spacesinthedisplaytext.">SimplifyText Helper function for reform manifest that gets rid of any pesky newlines/tabs/spaces in the display text.</a></li><li><a href="global.html#this.getCanvasReturnsareferencetotheunderlyingcanvas">this.getCanvasReturns a reference to the underlying canvas</a></li><li><a href="global.html#this.getCurrentEventReturnsareferencetothecurrentGameEventobject">this.getCurrentEventReturns a reference to the current GameEvent object</a></li><li><a href="global.html#this.getCurrentPlayerReceiveareferencetotheplayerwho'sturnitcurrentlyis">this.getCurrentPlayerReceive a reference to the player who's turn it currently is</a></li><li><a href="global.html#this.getIconGetareferencetothePlayer'sEaselJSShapeobject">this.getIconGet a reference to the Player's EaselJS Shape object</a></li><li><a href="global.html#this.getIconGetvisualrepresentationoftheGameEvent,ifany">this.getIconGet visual representation of the GameEvent, if any</a></li><li><a href="global.html#this.getStageGetrootEaselJSDisplayObjectobjectofthegame">this.getStageGet root EaselJS DisplayObject object of the game</a></li><li><a href="global.html#this.globalDataAgenericcontainerforgame-scopedata.Meaning,ifitisneededthroughoutdifferentpartsofthegame,putithere.Ifthedataisneededforonlyonesegment(i.e.,GameEvent),bundleitwiththeobjectpointedtobytheGameEvent'smoveFunc()oractionFunc()member.">this.globalDataA generic container for game-scope data. Meaning, if it is neededthroughout different parts of the game, put it here. If the data isneeded for only one segment (i.e., GameEvent), bundle it with the object pointed toby the GameEvent's moveFunc() or actionFunc() member.</a></li><li><a href="global.html#this.loadStoryAssignsGameEventobjectstheircustomcode">this.loadStory Assigns GameEvent objects their custom code</a></li><li><a href="global.html#this.progressThisisthemostimportantfunction.CallingthistransitionstothenextGameEvent.">this.progressThis is the most important function.Calling this transitions to the next GameEvent.</a></li><li><a href="global.html#this.setIconSetareferencetothePlayer'sEaselJSShapeobject">this.setIconSet a reference to the Player's EaselJS Shape object</a></li><li><a href="global.html#this.setIconSetvisualrepresentationoftheGameEvent,ifany">this.setIconSet visual representation of the GameEvent, if any</a></li><li><a href="global.html#this.setStageSetrootEaselJSDisplayObjectobjectofthegame">this.setStageSet root EaselJS DisplayObject object of the game</a></li><li><a href="global.html#this.startCalledtostartthegame.Shouldinitializeandrenderanythingneededtostartthegame.Willreturnwith-1forerrorifaeaselJSstagehasn'tbeenprovidedusingGame.setStage(Stage)">this.startCalled to start the game. Should initialize and render anything needed to startthe game. Will return with -1 for error if a easelJS stage hasn'tbeen provided using Game.setStage(Stage)</a></li><li><a href="global.html#this.triggerExecutethecodepointedtobymoveFuncandactionFunc">this.triggerExecute the code pointed to by moveFunc and actionFunc</a></li><li><a href="global.html#this.updateGamePositionProvideanupdatedboardpositiontotheplayer.">this.updateGamePositionProvide an updated board position to the player.</a></li><li><a href="global.html#tickTimerfunctionformovingstateofeditingstage.">tick Timer function for moving state of editing stage.</a></li><li><a href="global.html#tickTimerfunctionforscalingstateofeditingstage.">tick Timer function for scaling state of editing stage.</a></li><li><a href="global.html#tickTickerfunctionforanimation.speedupincreasesbydifficulty%255E2times0.02plus0.05oneveryobjectclickedwheneverananimalisreset,it'sspeedisincreasedbyspeed_up">tickTicker function for animation.speed up increases by difficulty^2 times 0.02 plus 0.05 on every object clickedwhenever an animal is reset, it's speed is increased by speed_up</a></li><li><a href="global.html#touchmovePreventstouchscrolling">touchmove Prevents touch scrolling</a></li><li><a href="global.html#uploadClickedUploadstheselectedfileonceonehasbeenselected.">uploadClicked Uploads the selected file once one has been selected.</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Wed Apr 19 2017 03:53:06 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
